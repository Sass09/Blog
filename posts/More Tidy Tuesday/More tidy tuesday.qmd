```{r}

tuesdata <- tidytuesdayR::tt_load('2023-11-07')

house <-tuesdata$house


```

```{r}

cleandata<-house %>%
  filter(stage == "GEN" & year== "2022") %>%
  select(state_po, stage, party, totalvotes) %>%
  drop_na(party) %>%
  filter( party  %in% c("DEMOCRAT", "REPUBLICAN")) %>%
  rename(state = state_po)

#who won tht most votes in each state? 
  
mostvotes <- cleandata %>%
  group_by(state, party) %>%
  summarise( total = sum(totalvotes))
  


#totalvotes <- cleandata %>%
             #group_by(state) %>%
 # mutate(percent = totalvotes/sum(totalvotes)) %>%
 # mutate(party = factor(party,
                        #levels = c("DEMOCRAT", "REPUBLICAN"))) %>%
        # ggplot(aes(x = state,
                   # y= totalvotes,
                    #fill = party)) +
           #geom_bar(stat = "identity") +
           #theme_bw() +
       # geom_text(aes(label = scales:: percent(percent, accuracy = 1)),
        #          position = position_stack(vjust = .5)) 
          
         



#very crowded data
# what can i do to improve it further? 
#abbreviate srate names?


```
